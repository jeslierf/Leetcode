```c++
class Solution {
public:
    int lengthOfLongestSubstring(string s) {
        int res = 0;
        string sub = "";
        for (int i = 0; i < s.size(); i ++) {
            size_t index = sub.find(s[i]);
            if (index > sub.size()) {
                sub += s[i];
                res = sub.size() > res ? sub.size() : res;
            } else {
                if (index == (sub.size() - 1)) {
                    sub = s[i];
                } else {
                    sub = sub.substr(index + 1, sub.size() - 1);
                    sub += s[i];
                }
            }
        }
        return res;
    }
};
```
